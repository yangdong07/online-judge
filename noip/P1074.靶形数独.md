### P1074 靶形数独

算法标签: **位运算,按位**, **剪枝**, **搜索**
其他标签: **NOIp提高组**, **2009**, **高性能**


#### Description

#### Analysis

这题与传统数独（P1784）不一样的是，每个格子多了一个权重，越靠近中心，权重越大，分值越大，类似于一个箭靶。

并且要求所有数独解中分值最大的那个。要求求出最优解。这就要计算出所有可能的解，然后比较分值。

一般解法有几个点会 TLE。 很麻烦。尝试了很多种优化，都不是很理想。。

主要的两个优化策略：

1. 减少查询可用数字的操作，使用一个 $O(1)$的位操作方法。 而不是 $O(9)$ 的方式，减少系数。
2. 按照每行剩余可用数字进行排序，优先选最少可用数字的哪一行，进行搜索（不包括确定的行，但是基本上没有）。

其中第二种方式是主要的优化策略， 仅仅按行（不按列或宫）来操作，会非常有效。但这是仅仅对测试点数据有效的： 如果把测试点的数据 进行一次转置操作： 那么按列优化会更有效果。

所以并不是一个很有效的方法。


#### [Code](../cpp/p1074.cpp)
