
### P2872 [USACO07DEC]道路建设Building Roads

算法标签: **Kruskal**, **Prim**, **生成树**
其他标签: **USACO**, **2007**, **高性能**

#### Description


#### Analysis

因为数据类型 WA了一次。郁闷。

这一题很有意思，因为它是一个稠密图 $E = \Omega(V^2)$

最开始用 Kruskal 效果反而不是很理想。 用 Prim 数组实现优于 Kruskal 实现。

这里面还有关键是一开始有些道路是连通的。

用 Kruskal算法的处理方式是预处理 DisjointSet， unite 连通的点。 这很自然。

用 Prim 算法就不是那么直观。 实际上可以通过 将连通的两点的 “费用” 变成 0就可以了。在 Prim 算法中会自然的将这些点连在一起。

那么问题来了，如果费用有负值怎么办？对付这种情况，可以全体加一数 $x$，都变成正数。 在最后的费用中减去 $(|V| - 1)x$ 就行了 其中 $|V| - 1$ 是树的边数。



#### [Code](../../cpp/28/p2872.cpp)


