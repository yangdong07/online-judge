
### P2735 电网 Electric Fences

算法标签: **计算几何**
其他标签: **USACO**

#### Description


#### Analysis

这一题用到 Pick定理。  $S = i + b / 2 - 1$，  即面积等于内部点数，加边点数除2， 减1。

反过来内部点数 $i = S - b / 2 + 1$。 $S$ 好求， 现在的问题是 如何计算 $b$ ？

$(0, 0)$ 和 $(n, m)$ 是三角形两个顶点， 问落在这条边上的格点数量。先不考虑 $(0, 0)$ 点。

一种方法是枚举一下整数$x = 1, 2, ... n$ ，看$y = xm/n$ 是不是整数。

$$\frac{m}{n} = \frac{p \gcd(m, n)}{q \gcd(m,n)}$$

$p, q$ 互质。 因此 $x = q, 2q, ..., \gcd(m, n)q$ 时，可以得到整数。总共有  $\gcd(m, n)$ 个格点。

因此三条边上有  $\gcd(m, n) + \gcd(n - p, m) + p$ 个格点。


#### [Code](../../cpp/27/p2735.cpp)


