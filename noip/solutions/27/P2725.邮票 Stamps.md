
### P2725 邮票 Stamps

算法标签: **动态规划,动规,dp**, **背包**， **完全背包**
其他标签: **USACO**, **高性能**

#### Description

给一组 N 枚邮票的面值集合（如，{1 分，3 分}）和一个上限 M —— 表示信封上能够贴 M 张邮票。

计算从 1 开始，可以连续贴出多少种邮资。

例如，假设有 1 分和 3 分的邮票；你最多可以贴 5 张邮票。很容易贴出 1 到 5 分的邮资（用 1 分邮票贴就行了），接下来的邮资也不难：

```
6 = 3 + 3 
7 = 3 + 3 + 1 
8 = 3 + 3 + 1 + 1 
9 = 3 + 3 + 3 
10 = 3 + 3 + 3 + 1 
11 = 3 + 3 + 3 + 1 + 1 
12 = 3 + 3 + 3 + 3 
13 = 3 + 3 + 3 + 3 + 1
```

然而，使用 5 枚 1 分或者 3 分的邮票根本不可能贴出 14 分的邮资。所以最多可以连续贴出13种邮资。

#### Analysis

这一题像背包问题，但是乍看不知道如何转成背包问题。

换个问法： 用 $n$ 种邮票可以贴出多少种邮资？ 似乎离题了。

给定一种邮资，可不可以用 $n$ 种邮票 最多 $m$ 张贴出来？ 这个比较接近原问题。但是如果用 bool 型的 dp， 不能够记录贴了多少张这种状态。

再换个问法： 给定一种邮资， 用 $n$ 种邮票，需要最少多少张才能贴出来？ 如果答案超过限定的张数，就说明不可能用 $m$ 张贴出来。

到这里，就是一个完全背包问题了。 最开始我以为是一种限定数量的 0-1 背包问题，很容易被带偏。

这个 dp 状态方程就很好写了：

$dp(n, w) = \min(dp(n - 1, w), dp(n, w - w_n) + 1)$

最后从1 开始扫一遍： 发现有大于 $m$ 的就中止，说明使用最多 $m$ 张邮票贴出来的面值只能连续到这里了。

#### [Code](../../cpp/27/p2725.cpp)


