### P1022 计算器的改良

算法标签: **字符串**, **数论,数学**, **模拟**

其他标签: **NOIp普及组**, **2000**

#### Description

求解一元一次方程。

例如： $6a-5+1=2-2a$。 

#### Analysis

此题主要考察字符串操作，以及一些细节。

具体思路：

1. 将等式分成左右两边
2. 对每一边，合并同类项。得到形如 $a_1x + b_1 = a_2x + b_2$ 的形式，找出四个系数。
3. 解等于 $(b_2 - b_1) / (a_1 - a_2)$


踩了两个坑

1. 第一个坑：

注意一元一次方程有  $x + 1 = -x + 2$ 这种形式： 未知量前面什么都没有， 这里我给判别成 0了，导致产生错误！

实际情况应该是，如果没有数字的话，用 `1 * sign`

2. 第二个坑：

C++ 浮点除法的一个特点： `0.0 / -1.0 == -0.0`， 要求只需要输出 `0.0` 就行了。 这里做了一下特判。

#### [Code](../../cpp/10/p1022.cpp)
