### P1014 Cantor表

算法标签: **枚举,暴力**, **模拟**
其他标签: **NOIp普及组**, **1999**


#### Description

Cantor表示用来枚举有理数。 用 Z 字给每个数字编号，可以发现所有分数（有理数）都有编号，是可以枚举的。

现在问： 第 $N$ 个分数是多少？

#### Analysis

找到 Cantor表的规律，这题不难。

第一个规律是： 第 $n$ 行 第 $n$ 列的 cantor 数有  $n(n+1) /2$ 个（三角形区域）

第二个规律是： 如果 $n$ 是偶数，则方向是 从上到下； 如果 $n$ 是奇数， 则方向是从下到上。

第三个规律是：  第 $n$ 行，分子是 $n$， 第 $n$ 列，分母 是 $n$


如果求 第 $N$ 个有理数，先计算 $n$，令 $N \leq n(n + 1) / 2$

可以计算出： $n = \lceil(\sqrt{8N + 1} - 1) / 2\rceil$

找到偏移量： $k = n(n + 1) - N$

如果 $n$ 是奇数， 则自下而上， “终点” 是第一行的 $1/n$， 所以可以输出 $(1 + k) / (n - k)$

如果 $n$ 是偶数， 则自上而下， “终点” 是第一列的 $n / 1$， 所以可以输出 $(n - k) / (1 + k)$

#### [Code](../../cpp/10/p1014.cpp)
