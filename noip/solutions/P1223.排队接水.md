### P1223 排队接水

算法标签: **快速排序,快排**, **排序**, **贪心**


#### Description

有 $n$ 个人在一个水龙头前排队接水，假如每个人接水的时间为 $T_i$，请编程找出这 $n$ 个人排队的一种顺序，使得 $n$ 个人的平均等待时间最小。

#### Analysis

这个问题勾起了我的回忆。。。

还是刚上大一，也不知道从哪里看到这个问题，感到很新鲜，答案也很巧妙。但是百思不得其解。 然后跟同学分享，结果自己连题目都说不清楚。

一晃多少年过去了。又遇见了这个问题。。。。真是怀念。。。。

言归正传。

用贪心算法可解。 首先看每次的贪心选择是什么？ 感觉好像把用时少的放前面； 用时多的排后面。

现在来证明这一点。（类似于果子合并和赫夫曼编码的证明）

1. 对任意一个排列，平均等待时间为 $S = \sum_{i=1}^n{\frac{n-i}{n} t_i}$
2. 交换两个人 $i,j$， 平均等待时间改变为 $S' - S = (j - i)(t_i-t_j) / n$
3. 贪心解的结构是 $t_1 \leq t_2 \leq \cdots \leq t_n$
4. 如果存在最优解不符合贪心顺序，即有一个 $i < j$， $t_i > t_j$， 那么交换 $i,j$ 位置， 得到的 $$ S' = S + (j - i) (t_i - t_j) < S $$。  与 $S$ 是最优解矛盾。



#### [Code](../cpp/p1223.cpp)
