
### P2690 接苹果

算法标签: **动态规划,动规,dp**, **背包问题**
其他标签: **USACO**

#### Description


#### Analysis

算是背包问题吧。令 $dp(t, w)$ 为 在时间 $t$，移动$w$ 次可以得到的苹果数量

那么有 

$$dp(t, w) = \max( dp(t - 1, w), dp(t - 1, w - 1)) + (w \% 2 == id(t))$$

意思是有两种可能：

1. 在时刻 $t$ 不移动，依赖 $dp(t - 1, w)$
2. 在时刻 $t$ 移动， 依赖 $dp(t - 1, w - 1)$

按照背包写就行了。

注意最开始 $w = 0$ 的时候， 在编号为 1的树下， 移动偶数次都在 树1 下； 移动奇数次都在 树2下。


#### WA原因

以后每次WA 都记录一下原因。

原因是 $W$ 是移动次数限制，而不是必须移动 $W$ 次，所以最后答案不是 $dp(W)$。 也有可能移动的少，反而得到的多。所以最后扫一遍，找到最大值才是正解。



#### [Code](../../cpp/26/p2690.cpp)


