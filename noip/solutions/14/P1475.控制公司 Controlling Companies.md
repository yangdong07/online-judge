
### P1475 控制公司 Controlling Companies

算法标签: **搜索**
其他标签: **USACO**

#### Description


#### Analysis

这题看上去很复杂，仔细解读后非常基础。

题目只给出了公司之间直接持股的情况。 

分析公司 A 对其他公司的控制情况，需要看它持有多少股票（包括间接的）。

第一个已知的控制公司是就是 A 公司本身； 对 A 公司持股的其他公司分析，如果对某家公司B 控制股票大于 50%，则A 也控制了B。 这样， A 控制了 A、B。

再看 A、B 持股的其他公司，把股票相加，如果对某家公司 C 的控制股票大于 50%， 则将这个公司也加入到已控制公司的 **队列** 中去。 

如此重复继续更新状态，可以找出所有 A 控制的公司。

有没有发现什么？ 是不是很像 BFS？ 

按照 BFS 的思路，需要一个队列和一个访问标记数组，这个访问标记数组可以单独开。我这里为了懒得多开数组，直接用了持有的股票数量： 如果持有股票数量大于 50，说明已经访问过了，否则更新状态。 当更新的股票数量超过50的时候，加入队列。

BFS 转成 DFS 也可以，DFS 的目的也是为了更新持股数量。 但是感觉这种题目就是要写成 BFS的样子才显得信达雅。。。。


#### [Code](../../cpp/14/p1475.cpp)


