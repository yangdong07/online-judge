### P1488 肥猫的游戏

算法标签: **博弈论**


#### Description

给定一个 $n$ 边的凸多边形， 用 $n-3$ 条对角线划分成 $n - 2$ 个三角形。其中一个三角形是黑色的，其他白色。

游戏策略是：两人轮流延一条对角线切一个三角形下来（必须是三角形，不可以切出其他形状）。先切到黑色三角形的胜利。

问： 先切者何种情况下必胜。

注： 用 $0, 1, \cdots, n-1$ 标注多边形顶点、三角形顶点。

#### Analysis

这一题主要理解题目，代码并不特别困难（会用到一些小技巧）。

切下黑三角形的条件是： 有两条边在最外侧。

仔细分析可以发现： 如果一开始黑色三角形就有两条边在最外侧，则先切者必胜。

否则： 黑色三角形被包在其他三角形内：除非把黑色三角形的两条边给露出来，否则下一刀切不了黑色三角形。

因此必胜者的策略是：保证在自己切完后，剩余 3个 三角形，黑色三角形的两条边在内侧。 延伸一下策略就是： 剩余 奇数个三角形。

所以先切者如果切下第一刀后，剩余奇数个三角形，则先切者必胜。

所以如果 $n$ 是偶数，先切者必胜。

```cpp
bool isNeighbor(int a, int b, int n)
{
    return (a + 1) % n == b || (b + 1) % n == a;
}

bool isContinuous(int a, int b, int c, int n)
{
    return (isNeighbor(a, b, n) + isNeighbor(b, c, n) + isNeighbor(a, c, n)) == 2;
}

int main()
{
    int n, i;
    int a, b, c; // vertics of triangle
    scanf("%d", &n);
    scanf("%d %d %d", &a, &b, &c);


    if (isContinuous(a, b, c, n))
    {
        printf("JMcat Win");
        return 0;
    }
    if (n & 1) printf("PZ Win");
    else printf("JMcat Win");

}
```

在开始的时候判断 两条边在最外侧，实际上等价于判断三个顶点是连续的。 连续的例子有： `[0, 1, 2], [2, 3, 4]`。还有一种特殊的例子是 `[5, 0, 1]`， 六边形。

可以通过判断两个点是否相邻，如果有2对相邻数，那就认为是连续的。（这里面隐含着所有数不相等的条件）。

#### [Code](../cpp/p1488.cpp)
