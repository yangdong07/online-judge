
### P2404 自然数的拆分问题

算法标签: **搜索**

#### Description


#### Analysis

这一题早就写完了，只是没有写总结。我是想多做点搜索题，总结出套路后一起写。还是算了。

搜索有两种写法，一种递归，一种循环。

比较常见的还是递归（DFS）。有以下几点需要注意

- **在递归中，每个递归函数代表着进入一个节点**
- **在每个递归函数中调用递归函数，意味着离开这个节点，进入子节点**
- **在某个递归函数调用结束返回时，意味着对一个子树完成搜索**

进入和离开这条路径实际上是相对的。

大部分时候，递归函数的参数说明了当前节点的状态。有时候还是需要检查当前的状态是否合法（比如地图搜索中是否越界，深度是否到达限定等等）。

这种检查有时候是放在调用下一个递归函数之前的（离开一个递归函数，进入下一层），有时候是放在进入一个递归函数的时候，看个人习惯吧。

我习惯于统一放在进入一个递归函数的时候。主要是职责分离的原则：检查和遍历子节点两个代码不放在一起写。

也就是说： 在进入的时候检查当前的参数对应的节点状态是否合法。如果不合法直接返回。


```cpp
void dfs(int cur, int n, int sum)
{
    if (sum == target)
    {
        print_sum(n);
        return;
    }
    else if (sum > target)
        return;
    
    for (int i = cur; i < target; ++i)
    {
        a[n] = i;
        dfs(i, n + 1, sum + i);
    }
}
```

这个DFS中， `cur` 表示上一个节点使用的数， `n` 表示当前节点深度， `sum` 表示目前总和是多少。

在遍历的时候，是一种回溯式的写法：在当前节点深度赋值，然后进入下一个节点搜索。

可以称之为一种临时的状态。



#### [Code](../../cpp/24/p2404.cpp)


