### P2837 晚餐队列安排

算法标签: **动态规划,动规,dp**, **交叉动态规划**
其他标签: **USACO**, **2008**


#### Description

#### Analysis

这题也可以看做交叉动态规划。

- 令 $dp(1, n)$ 表示 第 $n$ 个奶牛的编号 变成 1，并保持队形所用的最少的次数。
- 令 $dp(2, n)$ 表示 第 $n$ 个奶牛的编号 变成 2，并保持队形（上一个是2）或者第一次改变队形（上一个是1）所用的最少的次数。

可以发现第 $n$ 个 $dp$ 只依赖前面的状态。因此可以循环求解。

这个有很多种情况，可以制表观察。

| 原编号 | 新编号 | $dp1$ | $dp2$ |
|:--:|:--:|:--:|:--:|
| 1 | 1 | $dp1$ | |
| 1 | 2 |  | $\min(dp1 + 1, dp2 + 1)$ |
| 2 | 1 | $dp1 + 1$ | |
| 2 | 2 |  | $\min(dp1, dp2)$ |

这里最容易搞不明白的一点是 对 $dp2$ 的计算。 对于 $dp2$ 不仅仅有保持队形的可能，还有第一次改变队形的可能， 所以应当从 $dp1$ 和 $dp2$ 中选择最小的那个。


#### [Code](../cpp/p2837.cpp) 

