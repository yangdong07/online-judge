### P1208 [USACO1.3]混合牛奶 Mixing Milk

算法标签: **快速排序,快排**, **背包**, **贪心**
其他标签: **USACO**


#### Description

#### Analysis

这一题也是贪心算法问题，称为 Fractional Knapsack 问题。

问题原型是（一个强盗提出来的）：强盗进入了一个收藏店，有若干物品。每样物品的价值为 $v_i$， 重量为 $w_i$。 要求：在总重量不超过 $B$ 的情况下，抢劫的物品总价值最高。

这个问题有两个变种：

1. 拿或不拿物品： 0-1 背包问题。
2. 可以取走物品的一部分（物品是可无限分割的）：也叫做部分背包问题（Fractional Knapsack）

其中部分背包问题可以用贪心算法解决： 每次取走尽可能多的 单位重量价值最大的物品，直到填满整个背包。

**贪心选择的性质（Greedy Choice Property）**：令 $j$ 是具有最大 $v_i/w_i$ 的编号。 则存在一个最优解是 **取尽可能多的 $j$** 。

证明：

- 假设 有一个最优解是不用取那么多的 $j$。
- 如果背包没有满， 则继续添加一些 $j$，没毛病。 得到的方案居然一定以及肯定大于 最优解，矛盾。
- 所以假设背包是满的，则背包中必定存在某种物品 $k \neq j$，并且 $v_k / w_k < v_j / w_j$
- 因为还有一些 $j$ 没有添加，所以可以交换一些 $k$ 和 $j$， 这样会增加总价值
$$ \epsilon \frac{v_j}{w_j} - \epsilon \frac{v_k}{w_k} > 0 $$
居然又增加了总价值！！！矛盾。

所以贪心选择是 某个最优解的一部分。并且贪心选择 + 子问题的最优解 = 完整的最优解，这个也很容易看出来。

另外 0-1 背包问题不可以用贪心算法解决。 因为每次选最大价值的装，如果装不了其他的就尴尬了，或许存在另一种方案，小而多的拿，可以得到的价值更高，比如 8，3，3，3， 背包容量为 10。 拿一个8，不如拿3个3。


#### [Code](../cpp/p1208.cpp)
